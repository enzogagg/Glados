<!doctype html>
<html lang="fr" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Bytecode" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Bytecode Specification | ClaD</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://enzogagg.github.io/Glados/img/logo.png"><meta data-rh="true" name="twitter:image" content="https://enzogagg.github.io/Glados/img/logo.png"><meta data-rh="true" property="og:url" content="https://enzogagg.github.io/Glados/Bytecode"><meta data-rh="true" property="og:locale" content="fr"><meta data-rh="true" property="og:locale:alternate" content="en"><meta data-rh="true" name="docusaurus_locale" content="fr"><meta data-rh="true" name="docsearch:language" content="fr"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Bytecode Specification | ClaD"><meta data-rh="true" name="description" content="---"><meta data-rh="true" property="og:description" content="---"><link data-rh="true" rel="icon" href="/Glados/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://enzogagg.github.io/Glados/Bytecode"><link data-rh="true" rel="alternate" href="https://enzogagg.github.io/Glados/Bytecode" hreflang="fr"><link data-rh="true" rel="alternate" href="https://enzogagg.github.io/Glados/en/Bytecode" hreflang="en"><link data-rh="true" rel="alternate" href="https://enzogagg.github.io/Glados/Bytecode" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Bytecode Specification","item":"https://enzogagg.github.io/Glados/Bytecode"}]}</script><link rel="stylesheet" href="/Glados/assets/css/styles.5b3482e6.css">
<script src="/Glados/assets/js/runtime~main.8f2a7108.js" defer="defer"></script>
<script src="/Glados/assets/js/main.3fa45b01.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const a=new URLSearchParams(window.location.search).entries();for(var[t,e]of a)if(t.startsWith("docusaurus-data-")){var n=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(n,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Aller au contenu principal"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Aller au contenu principal</a></div><div class="theme-announcement-bar announcementBar_mb4j" style="background-color:#245d88;color:#fff" role="banner"><div class="announcementBarPlaceholder_vyr4"></div><div class="content_knG7 announcementBarContent_xLdY">üç∞ <strong>Welcome to the GLaDOS Documentation.</strong> üç∞</div><button type="button" aria-label="Fermer" class="clean-btn close closeButton_CVFx announcementBarClose_gvF7"><svg viewBox="0 0 15 15" width="14" height="14"><g stroke="currentColor" stroke-width="3.1"><path d="M.75.75l13.5 13.5M14.25.75L.75 14.25"></path></g></svg></button></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Ouvrir/fermer la barre de navigation" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/Glados/"><div class="navbar__logo"><img src="/Glados/img/logo.png" alt="GLaDOS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/Glados/img/logo.png" alt="GLaDOS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">GLaDOS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/Glados/">Manuel</a><a href="/Glados/api/index.html" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link"><svg viewBox="0 0 24 24" width="20" height="20" aria-hidden="true" class="iconLanguage_nlXk"><path fill="currentColor" d="M12.87 15.07l-2.54-2.51.03-.03c1.74-1.94 2.98-4.17 3.71-6.53H17V4h-7V2H8v2H1v1.99h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12zm-2.62 7l1.62-4.33L19.12 17h-3.24z"></path></svg>Fran√ßais</a><ul class="dropdown__menu"><li><a href="/Glados/Bytecode" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--active" lang="fr">Fran√ßais</a></li><li><a href="/Glados/en/Bytecode" target="_self" rel="noopener noreferrer" class="dropdown__link" lang="en">English</a></li></ul></div><a href="https://github.com/enzogagg/Glados" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Basculer entre le mode sombre et clair (actuellement system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Retour au d√©but de la page" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Glados/"><span title="Introduction √† la biblioth√®que standard de CLaD" class="linkLabel_WmDU">Introduction √† la biblioth√®que standard de CLaD</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Glados/Installation"><span title="Installation" class="linkLabel_WmDU">Installation</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Glados/Types"><span title="Syst√®me de Types" class="linkLabel_WmDU">Syst√®me de Types</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Glados/Tests"><span title="Protocoles de Test" class="linkLabel_WmDU">Protocoles de Test</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Glados/Ci-cd"><span title="CI/CD" class="linkLabel_WmDU">CI/CD</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/Glados/Struct"><span title="Structure du code" class="linkLabel_WmDU">Structure du code</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" href="/Glados/Bytecode"><span title="Bytecode Specification" class="linkLabel_WmDU">Bytecode Specification</span></a></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Fil d&#x27;Ariane"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Page d&#x27;accueil" class="breadcrumbs__link" href="/Glados/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Bytecode Specification</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Sur cette page</button></div><div class="theme-doc-markdown markdown"><header><h1>CLaD Bytecode Specification v1.0</h1></header>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="1-architecture-g√©n√©rale">1. Architecture g√©n√©rale<a href="#1-architecture-g√©n√©rale" class="hash-link" aria-label="Lien direct vers 1. Architecture g√©n√©rale" title="Lien direct vers 1. Architecture g√©n√©rale" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="11-structure-du-fichier-bytecode">1.1 Structure du fichier bytecode<a href="#11-structure-du-fichier-bytecode" class="hash-link" aria-label="Lien direct vers 1.1 Structure du fichier bytecode" title="Lien direct vers 1.1 Structure du fichier bytecode" translate="no">‚Äã</a></h3>
<p>Le fichier <code>.cbc</code> (CLaD ByteCode) est structur√© en quatre sections principales :</p>
<p>[ HEADER ] [ CONSTANT POOL ] [ FUNCTION TABLE ] [ INSTRUCTIONS ]</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="12-architecture-de-la-machine-virtuelle">1.2 Architecture de la machine virtuelle<a href="#12-architecture-de-la-machine-virtuelle" class="hash-link" aria-label="Lien direct vers 1.2 Architecture de la machine virtuelle" title="Lien direct vers 1.2 Architecture de la machine virtuelle" translate="no">‚Äã</a></h3>
<p>La machine virtuelle CLaD repose sur une architecture √† pile avec les composants suivants :</p>
<ul>
<li class=""><strong>Stack</strong> : Pile principale pour l&#x27;√©valuation des expressions</li>
<li class=""><strong>Heap</strong> : Gestion des structures dynamiques (listes, cha√Ænes, objets)</li>
<li class=""><strong>Global Table</strong> : Table des variables globales</li>
<li class=""><strong>Call Stack</strong> : Pile d&#x27;ex√©cution pour la gestion des appels de fonctions</li>
</ul>
<p>Cette architecture s&#x27;inspire des machines virtuelles modernes (JVM, BEAM) tout en restant adapt√©e aux besoins du langage CLaD.</p>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="2-syst√®me-de-typage">2. Syst√®me de typage<a href="#2-syst√®me-de-typage" class="hash-link" aria-label="Lien direct vers 2. Syst√®me de typage" title="Lien direct vers 2. Syst√®me de typage" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="21-tags-de-types">2.1 Tags de types<a href="#21-tags-de-types" class="hash-link" aria-label="Lien direct vers 2.1 Tags de types" title="Lien direct vers 2.1 Tags de types" translate="no">‚Äã</a></h3>
<p>Le bytecode utilise un syst√®me de typage unifi√© bas√© sur des tags d&#x27;un octet :</p>
<table><thead><tr><th>Tag (1 octet)</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>00</td><td>Int</td><td>Entier sign√©</td></tr><tr><td>01</td><td>Float</td><td>Nombre √† virgule flottante</td></tr><tr><td>02</td><td>Bool</td><td>Bool√©en</td></tr><tr><td>03</td><td>Char</td><td>Caract√®re</td></tr><tr><td>04</td><td>String</td><td>Cha√Æne de caract√®res</td></tr><tr><td>05</td><td>List</td><td>Liste</td></tr><tr><td>06</td><td>Symbol</td><td>Symbole</td></tr><tr><td>07</td><td>Nil</td><td>Valeur nulle</td></tr><tr><td>08</td><td>Function</td><td>R√©f√©rence vers Function Table</td></tr><tr><td>09</td><td>Tuple</td><td>Tuple (liste fixe)</td></tr><tr><td>0A</td><td>Array</td><td>Tableau (vecteur)</td></tr><tr><td>0B</td><td>Struct</td><td>Structure (champs nomm√©s)</td></tr><tr><td>0C</td><td>Map</td><td>Dictionnaire (Cl√©-Valeur)</td></tr></tbody></table>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="22-format-des-valeurs">2.2 Format des valeurs<a href="#22-format-des-valeurs" class="hash-link" aria-label="Lien direct vers 2.2 Format des valeurs" title="Lien direct vers 2.2 Format des valeurs" translate="no">‚Äã</a></h3>
<p>Chaque valeur sur la pile respecte le format suivant :</p>
<p>[ TYPE_TAG ][ DATA... ]</p>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="23-exemples-dencodage">2.3 Exemples d&#x27;encodage<a href="#23-exemples-dencodage" class="hash-link" aria-label="Lien direct vers 2.3 Exemples d&#x27;encodage" title="Lien direct vers 2.3 Exemples d&#x27;encodage" translate="no">‚Äã</a></h3>
<p><strong>Note sur les flottants</strong> : Ils suivent la norme <strong>IEEE-754 simple pr√©cision (32 bits)</strong>, format Big Endian.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">00 00 00 00 2A     = Int 42</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01 40 28 00 00     = Float 2.5  (0x40280000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">01 41 28 00 00     = Float 10.5 (0x41280000)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02 01              = Bool true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">04 00 00 00 05 &#x27;H&#x27; &#x27;e&#x27; &#x27;l&#x27; &#x27;l&#x27; &#x27;o&#x27;  = String &quot;Hello&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">06 00 00 00 03 &#x27;f&#x27; &#x27;o&#x27; &#x27;o&#x27;          = Symbol &#x27;foo&#x27;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="3-jeu-dinstructions">3. Jeu d&#x27;instructions<a href="#3-jeu-dinstructions" class="hash-link" aria-label="Lien direct vers 3. Jeu d&#x27;instructions" title="Lien direct vers 3. Jeu d&#x27;instructions" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="31-gestion-des-valeurs">3.1 Gestion des valeurs<a href="#31-gestion-des-valeurs" class="hash-link" aria-label="Lien direct vers 3.1 Gestion des valeurs" title="Lien direct vers 3.1 Gestion des valeurs" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>01</td><td>PUSH_CONST index</td><td>Pousse une constante (String, List, etc.)</td></tr><tr><td>02</td><td>PUSH_INT value</td><td>Pousse un entier imm√©diat (4 bytes)</td></tr><tr><td>03</td><td>PUSH_FLOAT value</td><td>Pousse un flottant imm√©diat (4 bytes)</td></tr><tr><td>04</td><td>PUSH_BOOL value</td><td>Pousse un bool√©en imm√©diat (1 byte)</td></tr><tr><td>05</td><td>PUSH_NIL</td><td>Pousse la valeur nulle sur la pile</td></tr><tr><td>06</td><td>POP</td><td>Retire la valeur au sommet de la pile</td></tr></tbody></table>
<p><strong>Note importante</strong> : Les types complexes (Strings, Symboles, Listes) doivent √™tre stock√©s dans le Constant Pool et charg√©s via <code>PUSH_CONST</code>. Les types imm√©diats (Int, Float, Bool) peuvent √™tre encod√©s directement dans l&#x27;instruction.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="32-op√©rations-arithm√©tiques">3.2 Op√©rations arithm√©tiques<a href="#32-op√©rations-arithm√©tiques" class="hash-link" aria-label="Lien direct vers 3.2 Op√©rations arithm√©tiques" title="Lien direct vers 3.2 Op√©rations arithm√©tiques" translate="no">‚Äã</a></h3>
<p>Les op√©rations arithm√©tiques supportent automatiquement les types Int et Float avec conversion implicite.</p>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>10</td><td>ADD</td><td>Addition</td></tr><tr><td>11</td><td>SUB</td><td>Soustraction</td></tr><tr><td>12</td><td>MUL</td><td>Multiplication</td></tr><tr><td>13</td><td>DIV</td><td>Division</td></tr><tr><td>14</td><td>MOD</td><td>Modulo</td></tr><tr><td>15</td><td>NEG</td><td>N√©gation</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="33-op√©rations-de-comparaison">3.3 Op√©rations de comparaison<a href="#33-op√©rations-de-comparaison" class="hash-link" aria-label="Lien direct vers 3.3 Op√©rations de comparaison" title="Lien direct vers 3.3 Op√©rations de comparaison" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>20</td><td>EQ</td><td>√âgalit√©</td></tr><tr><td>21</td><td>NEQ</td><td>In√©galit√©</td></tr><tr><td>22</td><td>LT</td><td>Inf√©rieur strict</td></tr><tr><td>23</td><td>GT</td><td>Sup√©rieur strict</td></tr><tr><td>24</td><td>LTE</td><td>Inf√©rieur ou √©gal</td></tr><tr><td>25</td><td>GTE</td><td>Sup√©rieur ou √©gal</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="34-op√©rations-sur-les-listes">3.4 Op√©rations sur les listes<a href="#34-op√©rations-sur-les-listes" class="hash-link" aria-label="Lien direct vers 3.4 Op√©rations sur les listes" title="Lien direct vers 3.4 Op√©rations sur les listes" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>30</td><td>CONS</td><td>Construction d&#x27;une paire (cons cell)</td></tr><tr><td>31</td><td>HEAD (CAR)</td><td>Extraction de la t√™te d&#x27;une liste</td></tr><tr><td>32</td><td>TAIL (CDR)</td><td>Extraction de la queue d&#x27;une liste</td></tr><tr><td>33</td><td>LIST size</td><td>Cr√©e une liste de n √©l√©ments depuis la pile</td></tr><tr><td>34</td><td>LEN</td><td>Retourne la longueur d&#x27;une liste</td></tr></tbody></table>
<p><strong>Exemple</strong> : <code>LIST 3</code> consomme les 3 valeurs au sommet de la pile pour cr√©er <code>[a, b, c]</code>.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="35-symboles-et-√©valuation">3.5 Symboles et √©valuation<a href="#35-symboles-et-√©valuation" class="hash-link" aria-label="Lien direct vers 3.5 Symboles et √©valuation" title="Lien direct vers 3.5 Symboles et √©valuation" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>40</td><td>MAKE_SYMBOL</td><td>Cr√©e un symbole</td></tr><tr><td>41</td><td>QUOTE</td><td>Quote une expression</td></tr><tr><td>42</td><td>EVAL</td><td>√âvalue une expression quot√©e</td></tr></tbody></table>
<p>Ces instructions permettent de supporter les m√©canismes d&#x27;√©valuation diff√©r√©e propres aux langages de type Lisp.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="36-gestion-des-variables">3.6 Gestion des variables<a href="#36-gestion-des-variables" class="hash-link" aria-label="Lien direct vers 3.6 Gestion des variables" title="Lien direct vers 3.6 Gestion des variables" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>50</td><td>LOAD nameIndex</td><td>Charge la valeur d&#x27;une variable</td></tr><tr><td>51</td><td>STORE nameIndex</td><td>Stocke une valeur dans une variable</td></tr><tr><td>52</td><td>DEFINE nameIndex</td><td>D√©finit une nouvelle variable</td></tr></tbody></table>
<p><strong>Note</strong> : Les identifiants de variables sont stock√©s dans le constant pool. L&#x27;index r√©f√©rence la position dans ce pool.</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="37-contr√¥le-de-flux">3.7 Contr√¥le de flux<a href="#37-contr√¥le-de-flux" class="hash-link" aria-label="Lien direct vers 3.7 Contr√¥le de flux" title="Lien direct vers 3.7 Contr√¥le de flux" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>60</td><td>JMP address</td><td>Saut inconditionnel √† l&#x27;adresse sp√©cifi√©e</td></tr><tr><td>61</td><td>JMP_IF_TRUE address</td><td>Saut conditionnel si la valeur au sommet est vraie</td></tr><tr><td>62</td><td>JMP_IF_FALSE address</td><td>Saut conditionnel si la valeur au sommet est fausse</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="38-gestion-des-fonctions">3.8 Gestion des fonctions<a href="#38-gestion-des-fonctions" class="hash-link" aria-label="Lien direct vers 3.8 Gestion des fonctions" title="Lien direct vers 3.8 Gestion des fonctions" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>70</td><td>CALL funcIndex argCount</td><td>Appel de fonction avec n arguments</td></tr><tr><td>71</td><td>RETURN</td><td>Retour de fonction</td></tr><tr><td>72</td><td>CLOSURE funcIndex</td><td>Cr√©ation d&#x27;une closure</td></tr><tr><td>73</td><td>LOAD_ARG index</td><td>Charge un argument de fonction</td></tr></tbody></table>
<p><strong>Function Table</strong> : Une table associe chaque index de fonction √† son adresse dans le bytecode :</p>
<p>Function 0 ‚Üí adresse 200 Function 1 ‚Üí adresse 350</p>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="39-entr√©essorties">3.9 Entr√©es/Sorties<a href="#39-entr√©essorties" class="hash-link" aria-label="Lien direct vers 3.9 Entr√©es/Sorties" title="Lien direct vers 3.9 Entr√©es/Sorties" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>80</td><td>PRINT</td><td>Affiche la valeur au sommet</td></tr><tr><td>81</td><td>INPUT</td><td>Lit une entr√©e utilisateur</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="310-structures-de-donn√©es-complexes">3.10 Structures de donn√©es complexes<a href="#310-structures-de-donn√©es-complexes" class="hash-link" aria-label="Lien direct vers 3.10 Structures de donn√©es complexes" title="Lien direct vers 3.10 Structures de donn√©es complexes" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>90</td><td>MAKE_TUPLE size</td><td>Cr√©e un tuple de n √©l√©ments depuis la pile</td></tr><tr><td>91</td><td>TUPLE_GET index</td><td>Acc√®de √† l&#x27;√©l√©ment √† l&#x27;index imm√©diat</td></tr><tr><td>92</td><td>MAKE_ARRAY size</td><td>Cr√©e un tableau de n √©l√©ments depuis la pile</td></tr><tr><td>93</td><td>ARRAY_GET</td><td>Acc√®s index√© (Stack: array, index)</td></tr><tr><td>94</td><td>ARRAY_SET</td><td>Modification (Stack: array, index, val)</td></tr><tr><td>95</td><td>MAKE_MAP count</td><td>Cr√©e une map (Stack: k1, v1, k2, v2...)</td></tr><tr><td>96</td><td>MAP_GET</td><td>Acc√®s par cl√© (Stack: map, key)</td></tr><tr><td>97</td><td>MAP_SET</td><td>Ajout/Modif (Stack: map, key, val)</td></tr><tr><td>98</td><td>MAKE_STRUCT count</td><td>Cr√©e une struct de n champs (Stack: val1, ...)</td></tr><tr><td>99</td><td>STRUCT_GET nameId</td><td>Acc√®s champ par nom (arg: index string pool)</td></tr><tr><td>9A</td><td>STRUCT_SET nameId</td><td>Modif champ par nom (arg: index string pool)</td></tr></tbody></table>
<hr>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="311-terminaison">3.11 Terminaison<a href="#311-terminaison" class="hash-link" aria-label="Lien direct vers 3.11 Terminaison" title="Lien direct vers 3.11 Terminaison" translate="no">‚Äã</a></h3>
<table><thead><tr><th>Opcode</th><th>Instruction</th><th>Description</th></tr></thead><tbody><tr><td>FF</td><td>HALT</td><td>Arr√™te l&#x27;ex√©cution de la VM</td></tr></tbody></table>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="4-caract√©ristiques-de-la-vm">4. Caract√©ristiques de la VM<a href="#4-caract√©ristiques-de-la-vm" class="hash-link" aria-label="Lien direct vers 4. Caract√©ristiques de la VM" title="Lien direct vers 4. Caract√©ristiques de la VM" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="41-architecture-√†-pile">4.1 Architecture √† pile<a href="#41-architecture-√†-pile" class="hash-link" aria-label="Lien direct vers 4.1 Architecture √† pile" title="Lien direct vers 4.1 Architecture √† pile" translate="no">‚Äã</a></h3>
<p>L&#x27;architecture √† pile offre plusieurs avantages :</p>
<ul>
<li class="">Simplicit√© de conception et d&#x27;impl√©mentation</li>
<li class="">Instructions ind√©pendantes et modulaires</li>
<li class="">Facilit√© de d√©bogage (inspection de la pile)</li>
<li class="">Compatibilit√© avec les paradigmes fonctionnels</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="42-support-multi-paradigmes">4.2 Support multi-paradigmes<a href="#42-support-multi-paradigmes" class="hash-link" aria-label="Lien direct vers 4.2 Support multi-paradigmes" title="Lien direct vers 4.2 Support multi-paradigmes" translate="no">‚Äã</a></h3>
<p>La VM CLaD est con√ßue pour supporter :</p>
<ul>
<li class=""><strong>Programmation imp√©rative</strong> : variables, s√©quen√ßage, boucles</li>
<li class=""><strong>Programmation fonctionnelle</strong> : fonctions de premi√®re classe, closures</li>
<li class=""><strong>Programmation inspir√©e de Lisp</strong> : symboles, quote/eval, manipulation de listes</li>
</ul>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="43-gestion-des-types">4.3 Gestion des types<a href="#43-gestion-des-types" class="hash-link" aria-label="Lien direct vers 4.3 Gestion des types" title="Lien direct vers 4.3 Gestion des types" translate="no">‚Äã</a></h3>
<ul>
<li class="">Conversion automatique Int ‚Üí Float dans les op√©rations arithm√©tiques</li>
<li class="">Typage dynamique avec v√©rification √† l&#x27;ex√©cution</li>
<li class="">Support des structures de donn√©es h√©t√©rog√®nes</li>
</ul>
<hr>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="5-exemple-dex√©cution">5. Exemple d&#x27;ex√©cution<a href="#5-exemple-dex√©cution" class="hash-link" aria-label="Lien direct vers 5. Exemple d&#x27;ex√©cution" title="Lien direct vers 5. Exemple d&#x27;ex√©cution" translate="no">‚Äã</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="51-code-source-clad">5.1 Code source CLaD<a href="#51-code-source-clad" class="hash-link" aria-label="Lien direct vers 5.1 Code source CLaD" title="Lien direct vers 5.1 Code source CLaD" translate="no">‚Äã</a></h3>
<div class="language-clad codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-clad codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">liste = [1, 2, 3]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">print(head(liste) + 10)</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="52-repr√©sentation-en-bytecode-assembleur">5.2 Repr√©sentation en bytecode assembleur<a href="#52-repr√©sentation-en-bytecode-assembleur" class="hash-link" aria-label="Lien direct vers 5.2 Repr√©sentation en bytecode assembleur" title="Lien direct vers 5.2 Repr√©sentation en bytecode assembleur" translate="no">‚Äã</a></h3>
<div class="language-assembly codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-assembly codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PUSH_INT 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PUSH_INT 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PUSH_INT 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LIST 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">STORE &quot;liste&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">LOAD &quot;liste&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HEAD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PUSH_INT 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ADD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PRINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">HALT</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="53-enc√¥dage-binaire">5.3 Enc√¥dage binaire<a href="#53-enc√¥dage-binaire" class="hash-link" aria-label="Lien direct vers 5.3 Enc√¥dage binaire" title="Lien direct vers 5.3 Enc√¥dage binaire" translate="no">‚Äã</a></h3>
<div class="language-binary codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-binary codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">02 00 00 00 01    ; PUSH_INT 1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02 00 00 00 02    ; PUSH_INT 2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02 00 00 00 03    ; PUSH_INT 3</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">51 00 00 00 00    ; STORE 0 (&quot;liste&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">50 00 00 00 00    ; LOAD 0 (&quot;liste&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02 00 00 00 0A    ; PUSH_INT 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10                ; ADD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">80                ; PRINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FF                ; HALT</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="6-format-du-fichier-cbc">6. Format du fichier .cbc<a href="#6-format-du-fichier-cbc" class="hash-link" aria-label="Lien direct vers 6. Format du fichier .cbc" title="Lien direct vers 6. Format du fichier .cbc" translate="no">‚Äã</a></h3>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="61-vue-densemble-de-la-structure">6.1 Vue d&#x27;ensemble de la structure<a href="#61-vue-densemble-de-la-structure" class="hash-link" aria-label="Lien direct vers 6.1 Vue d&#x27;ensemble de la structure" title="Lien direct vers 6.1 Vue d&#x27;ensemble de la structure" translate="no">‚Äã</a></h4>
<p>Pour visualiser clairement la structure du fichier .cbc, voici un diagramme Mermaid :</p>
<div class="language-mermaid codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-mermaid codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">graph TD</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A[Fichier .cbc] --&gt; B(HEADER);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A --&gt; C(CONSTANT POOL);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A --&gt; D(FUNCTION TABLE);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    A --&gt; E(INSTRUCTIONS);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph HEADER</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B1(Magic Number : 4 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B2(Version : 2 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B3(Flags : 1 byte)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        B4(Reserved : 3 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph CONSTANT_POOL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C1(Count : 4 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C2[Entry 0] --&gt; C2_1(Type Tag : 1 byte);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C2_1 --&gt; C2_2(Length : 4 bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C2_2 --&gt; C2_3(Data : n bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C3[Entry 1] --&gt; C3_1(Type Tag : 1 byte);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C3_1 --&gt; C3_2(Length : 4 bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        C3_2 --&gt; C3_3(Data : n bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph FUNCTION_TABLE</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D1(Count : 4 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D2[Function 0] --&gt; D2_1(Index : 4 bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D2_1 --&gt; D2_2(Address : 4 bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D2_2 --&gt; D2_3(ArgCount : 1 byte);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D3[Function 1] --&gt; D3_1(Index : 4 bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D3_1 --&gt; D3_2(Address : 4 bytes);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        D3_2 --&gt; D3_3(ArgCount : 1 byte);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    subgraph INSTRUCTIONS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E1(Code Length : 4 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E2[Instruction 0] --&gt; E2_1(Opcode : 1 byte);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E2_1 --&gt; E2_2(Operands : variable);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E3[Instruction 1] --&gt; E3_1(Opcode : 1 byte);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        E3_1 --&gt; E3_2(Operands : variable);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    end</span><br></span></code></pre></div></div>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="62-header-10-bytes">6.2 Header (10 bytes)<a href="#62-header-10-bytes" class="hash-link" aria-label="Lien direct vers 6.2 Header (10 bytes)" title="Lien direct vers 6.2 Header (10 bytes)" translate="no">‚Äã</a></h4>
<p>Offset   Taille   Champ Valeur / Description
0x00  4  Magic Number   0x43 0x42 0x43 0x00 (&quot;CBC\0&quot;)
0x04  2  Version  0x01 0x00 (version 1.0)
0x06  1  Flags 0x00 (r√©serv√© pour usage futur)
0x07  3  Reserved 0x00 0x00 0x00 (padding)</p>
<p>Exemple en hexad√©cimal :</p>
<p>43 42 43 00 | 01 00 | 00 | 00 00 00
Magic    | Ver.  |Flg | Reserved</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="63-constant-pool">6.3 Constant Pool<a href="#63-constant-pool" class="hash-link" aria-label="Lien direct vers 6.3 Constant Pool" title="Lien direct vers 6.3 Constant Pool" translate="no">‚Äã</a></h4>
<p>Structure :
Champ Taille   Description
Count 4 bytes  Nombre total d&#x27;entr√©es
Entry N  variable Entr√©e de la pool
Type Tag 1 byte   Type de l&#x27;entr√©e (voir section 2.1)
Length   4 bytes  Taille des donn√©es
Data  Length bytes   Donn√©es brutes</p>
<p>Exemples d&#x27;entr√©es :</p>
<p>String &quot;Hello&quot;:
04 | 00 00 00 05 | 48 65 6C 6C 6F
Type | Length | Data</p>
<p>Symbol &#x27;x&#x27;:
06 | 00 00 00 01 | 78
Type | Length | Data (ASCII &#x27;x&#x27;)</p>
<p>Int 42:
00 | 00 00 00 04 | 00 00 00 2A
Type | Length | Data (32-bit int)</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="64-function-table">6.4 Function Table<a href="#64-function-table" class="hash-link" aria-label="Lien direct vers 6.4 Function Table" title="Lien direct vers 6.4 Function Table" translate="no">‚Äã</a></h4>
<p>Structure :
Champ Taille   Description
Count 4 bytes  Nombre de fonctions
Function Entry N  variable Entr√©e de la table
Index 4 bytes  ID de la fonction
Address  4 bytes  Adresse dans le bytecode
ArgCount 1 byte   Nombre d&#x27;arguments</p>
<p>Exemple :</p>
<p>Count: 2 fonctions</p>
<p>Function 0: factorial (2 args, @ 0x00C8)
00 00 00 00 | 00 00 00 C8 | 02
Index       Address      Args</p>
<p>Function 1: main (0 args, @ 0x0150)
00 00 00 01 | 00 00 01 50 | 00
Index       Address      Args</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="65-instructions">6.5 Instructions<a href="#65-instructions" class="hash-link" aria-label="Lien direct vers 6.5 Instructions" title="Lien direct vers 6.5 Instructions" translate="no">‚Äã</a></h4>
<p>Structure :
Champ Taille   Description
Code Length 4 bytes  Taille totale du code
Instruction N  variable S√©quence d&#x27;Opcode et d&#x27;Op√©randes
Opcode   1 byte   Instruction
Operands variable Arguments de l&#x27;instruction</p>
<p>Exemple d&#x27;encodage :</p>
<p>Instruction: PUSH_INT 42
02 | 00 00 00 2A
Opcode | Operand (4 bytes)</p>
<p>Instruction: ADD
10
Opcode (pas d&#x27;op√©rande)</p>
<p>Instruction: CALL 0 with 2 args
70 | 00 00 00 00 | 02
Opcode | Function Index | ArgCount</p>
<h4 class="anchor anchorTargetStickyNavbar_Vzrq" id="66-exemple-complet-de-fichier-cbc">6.6 Exemple complet de fichier .cbc<a href="#66-exemple-complet-de-fichier-cbc" class="hash-link" aria-label="Lien direct vers 6.6 Exemple complet de fichier .cbc" title="Lien direct vers 6.6 Exemple complet de fichier .cbc" translate="no">‚Äã</a></h4>
<p>Programme : print(42)</p>
<div class="language-binary codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-binary codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">43 42 43 00 01 00 00 00 00 00  ; HEADER (10 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00 00 00 00                    ; CONSTANT POOL (Count: 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00 00 00 00                    ; FUNCTION TABLE (Count: 0)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">00 00 00 06                    ; INSTRUCTIONS (Code Length: 6 bytes)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">02 00 00 00 2A                 ; PUSH_INT 42</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">80                             ; PRINT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">FF                             ; HALT</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Taille totale: 28 bytes</span><br></span></code></pre></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col noPrint_WFHX"><a href="https://github.com/enzogagg/Glados/tree/main/documentation/docs/Bytecode.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>√âditer cette page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Pages de documentation"><a class="pagination-nav__link pagination-nav__link--prev" href="/Glados/Struct"><div class="pagination-nav__sublabel">Pr√©c√©dent</div><div class="pagination-nav__label">Structure du code</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-architecture-g√©n√©rale" class="table-of-contents__link toc-highlight">1. Architecture g√©n√©rale</a><ul><li><a href="#11-structure-du-fichier-bytecode" class="table-of-contents__link toc-highlight">1.1 Structure du fichier bytecode</a></li><li><a href="#12-architecture-de-la-machine-virtuelle" class="table-of-contents__link toc-highlight">1.2 Architecture de la machine virtuelle</a></li></ul></li><li><a href="#2-syst√®me-de-typage" class="table-of-contents__link toc-highlight">2. Syst√®me de typage</a><ul><li><a href="#21-tags-de-types" class="table-of-contents__link toc-highlight">2.1 Tags de types</a></li><li><a href="#22-format-des-valeurs" class="table-of-contents__link toc-highlight">2.2 Format des valeurs</a></li><li><a href="#23-exemples-dencodage" class="table-of-contents__link toc-highlight">2.3 Exemples d&#39;encodage</a></li></ul></li><li><a href="#3-jeu-dinstructions" class="table-of-contents__link toc-highlight">3. Jeu d&#39;instructions</a><ul><li><a href="#31-gestion-des-valeurs" class="table-of-contents__link toc-highlight">3.1 Gestion des valeurs</a></li><li><a href="#32-op√©rations-arithm√©tiques" class="table-of-contents__link toc-highlight">3.2 Op√©rations arithm√©tiques</a></li><li><a href="#33-op√©rations-de-comparaison" class="table-of-contents__link toc-highlight">3.3 Op√©rations de comparaison</a></li><li><a href="#34-op√©rations-sur-les-listes" class="table-of-contents__link toc-highlight">3.4 Op√©rations sur les listes</a></li><li><a href="#35-symboles-et-√©valuation" class="table-of-contents__link toc-highlight">3.5 Symboles et √©valuation</a></li><li><a href="#36-gestion-des-variables" class="table-of-contents__link toc-highlight">3.6 Gestion des variables</a></li><li><a href="#37-contr√¥le-de-flux" class="table-of-contents__link toc-highlight">3.7 Contr√¥le de flux</a></li><li><a href="#38-gestion-des-fonctions" class="table-of-contents__link toc-highlight">3.8 Gestion des fonctions</a></li><li><a href="#39-entr√©essorties" class="table-of-contents__link toc-highlight">3.9 Entr√©es/Sorties</a></li><li><a href="#310-structures-de-donn√©es-complexes" class="table-of-contents__link toc-highlight">3.10 Structures de donn√©es complexes</a></li><li><a href="#311-terminaison" class="table-of-contents__link toc-highlight">3.11 Terminaison</a></li></ul></li><li><a href="#4-caract√©ristiques-de-la-vm" class="table-of-contents__link toc-highlight">4. Caract√©ristiques de la VM</a><ul><li><a href="#41-architecture-√†-pile" class="table-of-contents__link toc-highlight">4.1 Architecture √† pile</a></li><li><a href="#42-support-multi-paradigmes" class="table-of-contents__link toc-highlight">4.2 Support multi-paradigmes</a></li><li><a href="#43-gestion-des-types" class="table-of-contents__link toc-highlight">4.3 Gestion des types</a></li></ul></li><li><a href="#5-exemple-dex√©cution" class="table-of-contents__link toc-highlight">5. Exemple d&#39;ex√©cution</a><ul><li><a href="#51-code-source-clad" class="table-of-contents__link toc-highlight">5.1 Code source CLaD</a></li><li><a href="#52-repr√©sentation-en-bytecode-assembleur" class="table-of-contents__link toc-highlight">5.2 Repr√©sentation en bytecode assembleur</a></li><li><a href="#53-enc√¥dage-binaire" class="table-of-contents__link toc-highlight">5.3 Enc√¥dage binaire</a></li><li><a href="#6-format-du-fichier-cbc" class="table-of-contents__link toc-highlight">6. Format du fichier .cbc</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Documentation</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/Glados/">Manuel Utilisateur</a></li><li class="footer__item"><a href="/Glados/api/index.html" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Reference<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Communaut√©</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://epitech.eu" target="_blank" rel="noopener noreferrer" class="footer__link-item">Epitech<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/enzogagg/Glados" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2025 GLaDOS Project. Built with Docusaurus & Haskell.</div></div></div></footer></div>
</body>
</html>